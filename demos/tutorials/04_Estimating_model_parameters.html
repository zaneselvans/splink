
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://moj-analytical-services.github.io/splink/demos/tutorials/04_Estimating_model_parameters.html">
      
      
        <link rel="prev" href="03_Blocking.html">
      
      
        <link rel="next" href="05_Predicting_results.html">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.2">
    
    
      
        <title>4. Estimating model parameters - Splink</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeago.css">
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/custom.css">
    
      <link rel="stylesheet" href="../../css/neoteroi-mkdocs.css">
    
      <link rel="stylesheet" href="../../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../../css/pandas-dataframe.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-L6JT8NK528"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-L6JT8NK528",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-L6JT8NK528",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#specifying-and-estimating-a-linkage-model" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="Splink" class="md-header__button md-logo" aria-label="Splink" data-md-component="logo">
      
  <img src="../../img/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Splink
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              4. Estimating model parameters
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="purple" data-md-color-accent="red"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/moj-analytical-services/splink" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../getting_started.html" class="md-tabs__link">
        
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="00_Tutorial_Introduction.html" class="md-tabs__link">
          
  
    
  
  Tutorial

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../examples/examples_index.html" class="md-tabs__link">
          
  
    
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../topic_guides/topic_guides_index.html" class="md-tabs__link">
          
  
    
  
  Topic Guides

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../documentation_index.html" class="md-tabs__link">
          
  
    
  
  Documentation

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../dev_guides/index.html" class="md-tabs__link">
          
  
    
  
  Contributing

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/index.html" class="md-tabs__link">
          
  
    
  
  Blog

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="Splink" class="md-nav__button md-logo" aria-label="Splink" data-md-component="logo">
      
  <img src="../../img/favicon.ico" alt="logo">

    </a>
    Splink
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/moj-analytical-services/splink" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="00_Tutorial_Introduction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="01_Prerequisites.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Data prep prerequisites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="02_Exploratory_analysis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Exploratory analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="03_Blocking.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Blocking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    4. Estimating model parameters
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="04_Estimating_model_parameters.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    4. Estimating model parameters
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#specifying-a-linkage-model" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying a linkage model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Specifying a linkage model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparisons" class="md-nav__link">
    <span class="md-ellipsis">
      Comparisons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specifying-the-model-using-comparisons" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying the model using comparisons
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifying-the-full-settings-dictionary" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying the full settings dictionary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estimate-the-parameters-of-the-model" class="md-nav__link">
    <span class="md-ellipsis">
      Estimate the parameters of the model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Estimate the parameters of the model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estimation-of-probability_two_random_records_match" class="md-nav__link">
    <span class="md-ellipsis">
      Estimation of probability_two_random_records_match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estimation-of-u-probabilities" class="md-nav__link">
    <span class="md-ellipsis">
      Estimation of u probabilities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estimation-of-m-probabilities" class="md-nav__link">
    <span class="md-ellipsis">
      Estimation of m probabilities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visualising-model-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Visualising model parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Visualising model parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#saving-the-model" class="md-nav__link">
    <span class="md-ellipsis">
      Saving the model
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detecting-unlinkable-records" class="md-nav__link">
    <span class="md-ellipsis">
      Detecting unlinkable records
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="05_Predicting_results.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Predicting results
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="06_Visualising_predictions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Visualising predictions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="07_Evaluation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Evaluation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/examples_index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DuckDB
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            DuckDB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/duckdb/deduplicate_50k_synthetic.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deduplicate 50k rows historical persons
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/duckdb/transactions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linking financial transactions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/duckdb/link_only.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linking two tables of persons
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/duckdb/real_time_record_linkage.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Real time record linkage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/duckdb/accuracy_analysis_from_labels_column.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluation from ground truth column
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/duckdb/pairwise_labels.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estimating m probabilities from labels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/duckdb/quick_and_dirty_persons.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick and dirty persons model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/duckdb/deterministic_dedupe.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deterministic dedupe
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/duckdb/febrl3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Febrl3 Dedupe
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/duckdb/febrl4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Febrl4 link-only
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PySpark
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            PySpark
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/spark/deduplicate_1k_synthetic.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deduplication using Pyspark
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Athena
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Athena
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/athena/deduplicate_50k_synthetic.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deduplicate 50k rows historical persons
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SQLite
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            SQLite
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/sqlite/deduplicate_50k_synthetic.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deduplicate 50k rows historical persons
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Topic Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Topic Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/topic_guides_index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Record Linkage Theory
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Record Linkage Theory
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/theory/record_linkage.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why do we need record linkage?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/theory/probabilistic_vs_deterministic.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Probabilistic vs Deterministic linkage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/theory/fellegi_sunter.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Fellegi-Sunter Model
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linkage Models in Splink
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Linkage Models in Splink
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_1" >
        
          
          <label class="md-nav__link" for="__nav_5_3_1" id="__nav_5_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Splink's SQL backends - Spark, DuckDB etc
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_1">
            <span class="md-nav__icon md-icon"></span>
            Splink's SQL backends - Spark, DuckDB etc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/splink_fundamentals/backends/backends.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backends overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/splink_fundamentals/backends/postgres.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PostgreSQL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/splink_fundamentals/link_type.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Link type - linking vs deduping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/splink_fundamentals/settings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Defining Splink models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/splink_fundamentals/querying_splink_results.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retrieving and querying Splink results
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data Preparation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Data Preparation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/data_preparation/feature_engineering.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Engineering
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blocking
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Blocking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/blocking/blocking_rules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What are Blocking Rules?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/blocking/predictions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prediction Blocking Rules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/blocking/model_training.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Training Blocking Rules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/blocking/performance.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Computational Performance
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Comparing Records
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Comparing Records
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/comparisons/customising_comparisons.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Defining and customising comparisons
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/comparisons/comparison_templates.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Out-of-the-box comparisons
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6_3" >
        
          
          <label class="md-nav__link" for="__nav_5_6_3" id="__nav_5_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Comparing strings
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6_3">
            <span class="md-nav__icon md-icon"></span>
            Comparing strings
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/comparisons/choosing_comparators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Choosing comparators and thresholds
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/comparisons/comparators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    String comparators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/comparisons/phonetic.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phonetic transformations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/comparisons/regular_expressions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Regular Expressions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/comparisons/term-frequency.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Term-Frequency adjustments
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Evaluation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            Evaluation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/evaluation/overview.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/evaluation/model.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7_3" >
        
          
          <label class="md-nav__link" for="__nav_5_7_3" id="__nav_5_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Edges (Links)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7_3">
            <span class="md-nav__icon md-icon"></span>
            Edges (Links)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/evaluation/edge_overview.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/evaluation/edge_metrics.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Edge Metrics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/evaluation/labelling.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clerical Labelling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/evaluation/clusters.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clusters
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Performance
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            Performance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/performance/drivers_of_performance.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run times, performance and linking large data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8_2" >
        
          
          <label class="md-nav__link" for="__nav_5_8_2" id="__nav_5_8_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Spark Performance
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8_2">
            <span class="md-nav__icon md-icon"></span>
            Spark Performance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/performance/optimising_spark.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimising Spark performance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/performance/salting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Salting blocking rules
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8_3" >
        
          
          <label class="md-nav__link" for="__nav_5_8_3" id="__nav_5_8_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DuckDB Performance
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8_3">
            <span class="md-nav__icon md-icon"></span>
            DuckDB Performance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/performance/optimising_duckdb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimising DuckDB performance
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation_index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_1" >
        
          
          <label class="md-nav__link" for="__nav_6_2_1" id="__nav_6_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linker API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_1">
            <span class="md-nav__icon md-icon"></span>
            Linker API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linker.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Full API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linkerexp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exploratory analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linkerbloc.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blocking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linkerest.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estimating model parameters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linkerpred.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Predicting results
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linkermodelviz.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visualisation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linkereval.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2_2" id="__nav_6_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Comparisons Library API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_2">
            <span class="md-nav__icon md-icon"></span>
            Comparisons Library API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../comparison_template_library.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparison Template Library
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../comparison_library.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparison Library
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../comparison_level_library.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparison Level Library
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../comparison_level_composition.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparison Composition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../comparison_helpers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparison Helpers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_3" >
        
          
          <label class="md-nav__link" for="__nav_6_2_3" id="__nav_6_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blocking Rule Library API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_3">
            <span class="md-nav__icon md-icon"></span>
            Blocking Rule Library API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blocking_rule_library.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blocking Rule Library
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blocking_rule_composition.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blocking Rule Composition
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../em_training_session.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EM Training Session API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SplinkDataFrame.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SplinkDataFrame API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_6" >
        
          
          <label class="md-nav__link" for="__nav_6_2_6" id="__nav_6_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Comparisons API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_6">
            <span class="md-nav__icon md-icon"></span>
            Comparisons API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../comparison.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparison
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../comparison_level.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparison Level
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../charts/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Charts Gallery
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Charts Gallery
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_2" >
        
          
          <label class="md-nav__link" for="__nav_6_3_2" id="__nav_6_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Exploratory Analysis
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_2">
            <span class="md-nav__icon md-icon"></span>
            Exploratory Analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/completeness_chart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    completeness chart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/missingness_chart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    missingness chart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/profile_columns.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    profile columns
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3_3" id="__nav_6_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blocking
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_3">
            <span class="md-nav__icon md-icon"></span>
            Blocking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/cumulative_num_comparisons_from_blocking_rules_chart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cumulative num comparisons from blocking rules chart
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_4" >
        
          
          <label class="md-nav__link" for="__nav_6_3_4" id="__nav_6_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Comparison Helpers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_4">
            <span class="md-nav__icon md-icon"></span>
            Comparison Helpers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/comparisons/choosing_comparators.html#comparing-string-similarity-and-distance-scores" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    comparator score chart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/comparisons/choosing_comparators.html#choosing-thresholds" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    comparator score threshold chart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topic_guides/comparisons/choosing_comparators.html#phonetic-matching" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    phonetic match chart
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_5" >
        
          
          <label class="md-nav__link" for="__nav_6_3_5" id="__nav_6_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Model Training
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_5">
            <span class="md-nav__icon md-icon"></span>
            Model Training
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/comparison_viewer_dashboard.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    comparison viewer dashboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/match_weights_chart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    match weights chart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/m_u_parameters_chart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    m u parameters chart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/parameter_estimate_comparisons_chart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    parameter estimate comparisons chart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/tf_adjustment_chart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tf adjustment chart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/unlinkables_chart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    unlinkables chart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/waterfall_chart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    waterfall chart
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_6" >
        
          
          <label class="md-nav__link" for="__nav_6_3_6" id="__nav_6_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Clustering
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_6">
            <span class="md-nav__icon md-icon"></span>
            Clustering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/cluster_studio_dashboard.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cluster studio dashboard
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_7" >
        
          
          <label class="md-nav__link" for="__nav_6_3_7" id="__nav_6_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Model Evaluation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_7">
            <span class="md-nav__icon md-icon"></span>
            Model Evaluation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/accuracy_chart_from_labels_table.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    accuracy chart from labels table
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/confusion_matrix_from_labels_table.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    confusion matrix from labels table
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/precision_recall_chart_from_labels_table.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    precision recall chart from labels table
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/roc_chart_from_labels_table.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    roc chart fromm labels table
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datasets.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    In-built datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Settings
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Settings
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../settings_dict_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Settings Dictionary Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../settingseditor/editor.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interactive Settings Editor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../dev_guides/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Contributing to Splink
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Contributing to Splink
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CONTRIBUTING.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributor Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/changing_splink/building_env_locally.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building a Virtual Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/changing_splink/lint_and_format.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linting and Formatting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/changing_splink/testing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/changing_splink/build_docs_locally.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building Docs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/changing_splink/releases.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Releasing a Package Version
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/changing_splink/blog_posts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing to the Splink Blog
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    How Splink works
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            How Splink works
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/debug_modes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding and debugging Splink
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/transpilation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transpilation using sqlglot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3_3" id="__nav_7_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Performance and caching
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_3">
            <span class="md-nav__icon md-icon"></span>
            Performance and caching
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/caching.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Caching and pipelining
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/spark_pipelining_and_caching.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spark caching
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_4" >
        
          
          <label class="md-nav__link" for="__nav_7_3_4" id="__nav_7_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Comparison and comparison level libraries
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_4">
            <span class="md-nav__icon md-icon"></span>
            Comparison and comparison level libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/comparisons/new_library_comparisons_and_levels.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating new comparisons and comparison levels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/comparisons/extending_library_comparisons_and_levels.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending existing comparisons and comparison levels
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_5" >
        
          
          <label class="md-nav__link" for="__nav_7_3_5" id="__nav_7_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Charts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_5">
            <span class="md-nav__icon md-icon"></span>
            Charts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/charts/understanding_and_editing_charts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding and editing charts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/charts/building_charts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building new charts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/udfs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User-Defined Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3_7" >
        
          
          <label class="md-nav__link" for="__nav_7_3_7" id="__nav_7_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Settings Validation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3_7">
            <span class="md-nav__icon md-icon"></span>
            Settings Validation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/settings_validation/settings_validation_overview.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Settings Validation Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/settings_validation/extending_settings_validator.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending the Settings Validator
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev_guides/dependency_management.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Splink Dependency Management
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../blog/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/ethics.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/feature-updates.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Updates
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#specifying-a-linkage-model" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying a linkage model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Specifying a linkage model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparisons" class="md-nav__link">
    <span class="md-ellipsis">
      Comparisons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specifying-the-model-using-comparisons" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying the model using comparisons
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifying-the-full-settings-dictionary" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying the full settings dictionary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estimate-the-parameters-of-the-model" class="md-nav__link">
    <span class="md-ellipsis">
      Estimate the parameters of the model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Estimate the parameters of the model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estimation-of-probability_two_random_records_match" class="md-nav__link">
    <span class="md-ellipsis">
      Estimation of probability_two_random_records_match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estimation-of-u-probabilities" class="md-nav__link">
    <span class="md-ellipsis">
      Estimation of u probabilities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estimation-of-m-probabilities" class="md-nav__link">
    <span class="md-ellipsis">
      Estimation of m probabilities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visualising-model-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Visualising model parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Visualising model parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#saving-the-model" class="md-nav__link">
    <span class="md-ellipsis">
      Saving the model
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detecting-unlinkable-records" class="md-nav__link">
    <span class="md-ellipsis">
      Detecting unlinkable records
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/moj-analytical-services/splink/edit/master/docs/demos/tutorials/04_Estimating_model_parameters.ipynb" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<html><head><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script>
(function() {
  function addWidgetsRenderer() {
    var requireJsScript = document.createElement('script');
    requireJsScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js';

    var mimeElement = document.querySelector('script[type="application/vnd.jupyter.widget-view+json"]');
    var jupyterWidgetsScript = document.createElement('script');
    var widgetRendererSrc = 'https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js';
    var widgetState;

    // Fallback for older version:
    try {
      widgetState = mimeElement && JSON.parse(mimeElement.innerHTML);

      if (widgetState && (widgetState.version_major < 2 || !widgetState.version_major)) {
        widgetRendererSrc = 'jupyter-js-widgets@*/dist/embed.js';
      }
    } catch(e) {}

    jupyterWidgetsScript.src = widgetRendererSrc;

    document.body.appendChild(requireJsScript);
    document.body.appendChild(jupyterWidgetsScript);
  }

  document.addEventListener('DOMContentLoaded', addWidgetsRenderer);
}());
</script>
</head><body><div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="specifying-and-estimating-a-linkage-model">Specifying and estimating a linkage model<a class="headerlink" href="#specifying-and-estimating-a-linkage-model" title="Permanent link"></a></h1>
<p>In the last tutorial we looked at how we can use blocking rules to generate pairwise record comparisons.</p>
<p>Now it's time to estimate a probabilistic linkage model to score each of these comparisons. The resultant match score is a prediction of whether the two records represent the same entity (e.g. are the same person).  </p>
<p>The purpose of estimating the model is to learn the relative importance of different parts of your data for the purpose of data linking.  </p>
<p>For example, a match on date of birth is a much stronger indicator that two records refer to the same entity than a match on gender.  A mismatch on gender may be a stronger indicate against two records referring than a mismatch on name, since names are more likely to be entered differently.</p>
<p>The relative importance of different information is captured in the (partial) 'match weights', which can be learned from your data.  These match weights are then added up to compute the overall match score.</p>
<p>The match weights are are derived from the <code>m</code> and <code>u</code> parameters of the underlying Fellegi Sunter model.  Splink uses various statistical routines to estimate these parameters.  Further details of the underlying theory can be found <a href="https://www.robinlinacre.com/intro_to_probabilistic_linkage/">here</a>, which will help you understand this part of the tutorial.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="c1"># Begin by reading in the tutorial data again</span>
<span class="kn">from</span> <span class="nn">splink.duckdb.linker</span> <span class="kn">import</span> <span class="n">DuckDBLinker</span>
<span class="kn">from</span> <span class="nn">splink.datasets</span> <span class="kn">import</span> <span class="n">splink_datasets</span>
<span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">splink_datasets</span><span class="o">.</span><span class="n">fake_1000</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="specifying-a-linkage-model">Specifying a linkage model<a class="headerlink" href="#specifying-a-linkage-model" title="Permanent link"></a></h2>
<p>To build a linkage model, the user defines the partial match weights that <code>splink</code> needs to estimate.    This is done by defining how the information in the input records should be compared.</p>
<p>To be concrete, here is an example comparison:</p>
<table>
<thead>
<tr>
<th>first_name_l</th>
<th>first_name_r</th>
<th>surname_l</th>
<th>surname_r</th>
<th>dob_l</th>
<th>dob_r</th>
<th>city_l</th>
<th>city_r</th>
<th>email_l</th>
<th>email_r</th>
</tr>
</thead>
<tbody>
<tr>
<td>Robert</td>
<td>Rob</td>
<td>Allen</td>
<td>Allen</td>
<td>1971-05-24</td>
<td>1971-06-24</td>
<td>nan</td>
<td>London</td>
<td>roberta25@smith.net</td>
<td>roberta25@smith.net</td>
</tr>
</tbody>
</table>
<p>What functions should we use to assess the similarity of <code>Rob</code> vs. <code>Robert</code> in the the <code>first_name</code> field?  </p>
<p>Should similarity in the <code>dob</code> field be computed in the same way, or a different way?</p>
<p>Your job as the developer of a linkage model is to decide what comparisons are most appropriate for the types of data you have.  </p>
<p>Splink can then estimate how much weight to place on a fuzzy match of <code>Rob</code> vs. <code>Robert</code>, relative to an exact match on <code>Robert</code>, or a non-match.</p>
<p>Defining these scenarios is done using <code>Comparison</code>s.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="comparisons">Comparisons<a class="headerlink" href="#comparisons" title="Permanent link"></a></h3>
<p>The concept of a <code>Comparison</code> has a specific definition within Splink: it defines how data from one or more input columns is compared, using SQL expressions to assess similarity.</p>
<p>For example, one <code>Comparison</code> may represent how similarity is assessed for a person's date of birth.  </p>
<p>Another <code>Comparison</code> may represent the comparison of a person's name or location.</p>
<p>A model is composed of many <code>Comparison</code>s, which between them assess the similarity of all of the columns being used for data linking.  </p>
<p>Each <code>Comparison</code> contains two or more <code>ComparisonLevels</code> which define <em>n</em> discrete gradations of similarity between the input columns within the Comparison.</p>
<p>As such <code>ComparisonLevels</code>are nested within <code>Comparisons</code> as follows:</p>
<div class="highlight"><pre><span></span><code>Data Linking Model
-- Comparison: Date of birth
    -- ComparisonLevel: Exact match
    -- ComparisonLevel: One character difference
    -- ComparisonLevel: All other
-- Comparison: Surname
    -- ComparisonLevel: Exact match on surname
    -- ComparisonLevel: All other
    etc.
</code></pre></div>
<p>Our example data would therefore result in the following comparisons, for <code>dob</code> and <code>surname</code>:</p>
<table>
<thead>
<tr>
<th>dob_l</th>
<th>dob_r</th>
<th>comparison_level</th>
<th>interpretation</th>
</tr>
</thead>
<tbody>
<tr>
<td>1971-05-24</td>
<td>1971-05-24</td>
<td>Exact match</td>
<td>great match</td>
</tr>
<tr>
<td>1971-05-24</td>
<td>1971-06-24</td>
<td>One character difference</td>
<td>ok match</td>
</tr>
<tr>
<td>1971-05-24</td>
<td>2000-01-02</td>
<td>All other</td>
<td>bad match</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>surname_l</th>
<th>surname_r</th>
<th>comparison_level</th>
<th>interpretation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Rob</td>
<td>Rob</td>
<td>Exact match</td>
<td>great match</td>
</tr>
<tr>
<td>Rob</td>
<td>Jane</td>
<td>All other</td>
<td>bad match</td>
</tr>
<tr>
<td>Rob</td>
<td>Robert</td>
<td>All other</td>
<td>bad match, this comparison has no notion of nicknames</td>
</tr>
</tbody>
</table>
<p>More information about comparisons can be found <a href="https://moj-analytical-services.github.io/splink/comparison.html">here</a>.</p>
<p>We will now use these concepts to build a data linking model.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="specifying-the-model-using-comparisons">Specifying the model using comparisons<a class="headerlink" href="#specifying-the-model-using-comparisons" title="Permanent link"></a></h3>
<p>Splink includes libraries of comparison functions to make it simple to get started. These are split into two categories:</p>
<ol>
<li><code>Comparison</code> functions which apply a particular fuzzy matching function. For example, levenshtein distance.</li>
</ol>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">splink.duckdb.comparison_library</span> <span class="k">as</span> <span class="nn">cl</span>

<span class="n">email_comparison</span> <span class="o">=</span>  <span class="n">cl</span><span class="o">.</span><span class="n">levenshtein_at_thresholds</span><span class="p">(</span><span class="s2">"email"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">email_comparison</span><span class="o">.</span><span class="n">human_readable_description</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stdout output_text">
<pre>
<code>Comparison 'Exact match vs. Email within levenshtein threshold 2 vs. anything else' of "email".
Similarity is assessed using the following ComparisonLevels:
    - 'Null' with SQL rule: "email_l" IS NULL OR "email_r" IS NULL
    - 'Exact match' with SQL rule: "email_l" = "email_r"
    - 'Levenshtein &lt;= 2' with SQL rule: levenshtein("email_l", "email_r") &lt;= 2
    - 'All other comparisons' with SQL rule: ELSE

</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li><code>Comparison Template</code> functions which have been created for specific data types. For example, names.</li>
</ol>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">splink.duckdb.comparison_template_library</span> <span class="k">as</span> <span class="nn">ctl</span>

<span class="n">first_name_comparison</span> <span class="o">=</span> <span class="n">ctl</span><span class="o">.</span><span class="n">name_comparison</span><span class="p">(</span><span class="s2">"first_name"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">first_name_comparison</span><span class="o">.</span><span class="n">human_readable_description</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stdout output_text">
<pre>
<code>Comparison 'Exact match vs. First_Name within levenshtein threshold 1 vs. First_Name within damerau-levenshtein threshold 1 vs. First_Name within jaro_winkler thresholds 0.9, 0.8 vs. anything else' of "first_name".
Similarity is assessed using the following ComparisonLevels:
    - 'Null' with SQL rule: "first_name_l" IS NULL OR "first_name_r" IS NULL
    - 'Exact match first_name' with SQL rule: "first_name_l" = "first_name_r"
    - 'Damerau_levenshtein &lt;= 1' with SQL rule: damerau_levenshtein("first_name_l", "first_name_r") &lt;= 1
    - 'Jaro_winkler_similarity &gt;= 0.9' with SQL rule: jaro_winkler_similarity("first_name_l", "first_name_r") &gt;= 0.9
    - 'Jaro_winkler_similarity &gt;= 0.8' with SQL rule: jaro_winkler_similarity("first_name_l", "first_name_r") &gt;= 0.8
    - 'All other comparisons' with SQL rule: ELSE

</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="specifying-the-full-settings-dictionary">Specifying the full settings dictionary<a class="headerlink" href="#specifying-the-full-settings-dictionary" title="Permanent link"></a></h2>
<p><code>Comparisons</code> are specified as part of the Splink <code>settings</code>, a Python dictionary which controls all of the configuration of a Splink model:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">splink.duckdb.blocking_rule_library</span> <span class="kn">import</span> <span class="n">block_on</span>

<span class="n">settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"link_type"</span><span class="p">:</span> <span class="s2">"dedupe_only"</span><span class="p">,</span>
    <span class="s2">"comparisons"</span><span class="p">:</span> <span class="p">[</span>
        <span class="n">ctl</span><span class="o">.</span><span class="n">name_comparison</span><span class="p">(</span><span class="s2">"first_name"</span><span class="p">),</span>
        <span class="n">ctl</span><span class="o">.</span><span class="n">name_comparison</span><span class="p">(</span><span class="s2">"surname"</span><span class="p">),</span>
        <span class="n">ctl</span><span class="o">.</span><span class="n">date_comparison</span><span class="p">(</span><span class="s2">"dob"</span><span class="p">,</span> <span class="n">cast_strings_to_date</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">cl</span><span class="o">.</span><span class="n">exact_match</span><span class="p">(</span><span class="s2">"city"</span><span class="p">,</span> <span class="n">term_frequency_adjustments</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">ctl</span><span class="o">.</span><span class="n">email_comparison</span><span class="p">(</span><span class="s2">"email"</span><span class="p">,</span> <span class="n">include_username_fuzzy_level</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="p">],</span>
    <span class="s2">"blocking_rules_to_generate_predictions"</span><span class="p">:</span> <span class="p">[</span>
        <span class="n">block_on</span><span class="p">(</span><span class="s2">"first_name"</span><span class="p">),</span>
        <span class="n">block_on</span><span class="p">(</span><span class="s2">"surname"</span><span class="p">),</span>
    <span class="p">],</span>
    <span class="s2">"retain_matching_columns"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">"retain_intermediate_calculation_columns"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">linker</span> <span class="o">=</span> <span class="n">DuckDBLinker</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">settings</span><span class="p">)</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In words, this setting dictionary says:</p>
<ul>
<li>We are performing a <code>dedupe_only</code> (the other options are <code>link_only</code>, or <code>link_and_dedupe</code>, which may be used if there are multiple input datasets).</li>
<li>When comparing records, we will use information from the <code>first_name</code>, <code>surname</code>, <code>dob</code>, <code>city</code> and <code>email</code> columns to compute a match score.</li>
<li>The <code>blocking_rules_to_generate_predictions</code> states that we will only check for duplicates amongst records where either the <code>first_name</code> or <code>surname</code> is identical.</li>
<li>We have enabled <a href="https://moj-analytical-services.github.io/splink/topic_guides/term-frequency.html">term frequency adjustments</a> for the 'city' column, because some values (e.g. <code>London</code>) appear much more frequently than others.</li>
<li>We have set <code>retain_intermediate_calculation_columns</code> and <code>additional_columns_to_retain</code> to <code>True</code>  so that Splink outputs additional information that helps the user understand the calculations. If they were <code>False</code>, the computations would run faster.</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="estimate-the-parameters-of-the-model">Estimate the parameters of the model<a class="headerlink" href="#estimate-the-parameters-of-the-model" title="Permanent link"></a></h2>
<p>Now that we have specified our linkage model, we need to estimate the <a href="https://moj-analytical-services.github.io/splink/settings_dict_guide.html#probability_two_random_records_match"><code>probability_two_random_records_match</code></a>, <code>u</code>, and <code>m</code> parameters.</p>
<ul>
<li>
<p>The <code>probability_two_random_records_match</code> parameter is the probability that two records taken at random from your input data represent a match (typically a very small number).</p>
</li>
<li>
<p>The <code>u</code> values are the proportion of records falling into each <code>ComparisonLevel</code> amongst truly <em>non-matching</em> records.</p>
</li>
<li>
<p>The <code>m</code> values are the proportion of records falling into each <code>ComparisonLevel</code> amongst truly <em>matching</em> records</p>
</li>
</ul>
<p>You can read more about <a href="https://www.robinlinacre.com/maths_of_fellegi_sunter/">the theory of what these mean</a>.</p>
<p>We can estimate these parameters using unlabeled data. If we have labels, then we can estimate them even more accurately.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="estimation-of-probability_two_random_records_match">Estimation of <code>probability_two_random_records_match</code><a class="headerlink" href="#estimation-of-probability_two_random_records_match" title="Permanent link"></a></h3>
<p>In some cases, the <code>probability_two_random_records_match</code> will be known. For example, if you are linking two tables of 10,000 records and expect a one-to-one match, then you should set this value to <code>1/10_000</code> in your settings instead of estimating it.</p>
<p>More generally, this parameter is unknown and needs to be estimated.  </p>
<p>It can be estimated accurately enough for most purposes by combining a series of deterministic matching rules and a guess of the recall corresponding to those rules.  For further details of the rationale behind this appraoch see <a href="https://github.com/moj-analytical-services/splink/issues/462#issuecomment-1227027995">here</a>.</p>
<p>In this example, I guess that the following deterministic matching rules have a recall of about 70%:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">deterministic_rules</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"l.first_name = r.first_name and levenshtein(r.dob, l.dob) &amp;lt;= 1"</span><span class="p">,</span>
    <span class="s2">"l.surname = r.surname and levenshtein(r.dob, l.dob) &amp;lt;= 1"</span><span class="p">,</span>
    <span class="s2">"l.first_name = r.first_name and levenshtein(r.surname, l.surname) &amp;lt;= 2"</span><span class="p">,</span>
    <span class="s2">"l.email = r.email"</span>
<span class="p">]</span>

<span class="n">linker</span><span class="o">.</span><span class="n">estimate_probability_two_random_records_match</span><span class="p">(</span><span class="n">deterministic_rules</span><span class="p">,</span> <span class="n">recall</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stderr output_text">
<pre>
<code>Probability two random records match is estimated to be  0.00333.
This means that amongst all possible pairwise record comparisons, one in 300.13 are expected to match.  With 499,500 total possible comparisons, we expect a total of around 1,664.29 matching pairs
</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="estimation-of-u-probabilities">Estimation of <code>u</code> probabilities<a class="headerlink" href="#estimation-of-u-probabilities" title="Permanent link"></a></h3>
<p>Once we have the <code>probability_two_random_records_match</code> parameter, we can estimate the <code>u</code> probabilities.</p>
<p>We estimate <code>u</code> using the <code>estimate_u_using_random_sampling</code> method, which doesn't require any labels.</p>
<p>It works by sampling random pairs of records, since most of these pairs are going to be non-matches. Over these non-matches we compute the distribution of <code>ComparisonLevel</code>s for each <code>Comparison</code>.</p>
<p>For instance, for <code>gender</code>, we would find that the the gender matches 50% of the time, and mismatches 50% of the time. </p>
<p>For <code>dob</code> on the other hand, we would find that the <code>dob</code> matches 1% of the time, has a "one character difference" 3% of the time, and everything else happens 96% of the time.</p>
<p>The larger the random sample, the more accurate the predictions. You control this using the <code>max_pairs</code> parameter. For large datasets, we recommend using at least 10 million - but the higher the better and 1 billion is often appropriate for larger datasets.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">linker</span><span class="o">.</span><span class="n">estimate_u_using_random_sampling</span><span class="p">(</span><span class="n">max_pairs</span><span class="o">=</span><span class="mf">1e6</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stderr output_text">
<pre>
<code>----- Estimating u probabilities using random sampling -----
</code>
</pre>
</div>
</div>
<div class="output_area">
<div class="output_text output_subarea">
<pre>
<code>FloatProgress(value=0.0, layout=Layout(width='auto'), style=ProgressStyle(bar_color='black'))</code>
</pre>
</div>
</div>
<div class="output_area">
<div class="output_subarea output_stream output_stderr output_text">
<pre>
<code>
Estimated u probabilities using random sampling

Your model is not yet fully trained. Missing estimates for:
    - first_name (no m values are trained).
    - surname (no m values are trained).
    - dob (no m values are trained).
    - city (no m values are trained).
    - email (no m values are trained).
</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="estimation-of-m-probabilities">Estimation of <code>m</code> probabilities<a class="headerlink" href="#estimation-of-m-probabilities" title="Permanent link"></a></h3>
<p><code>m</code> is the trickiest of the parameters to estimate, because we have to have some idea of what the true matches are.</p>
<p>If we have labels, we can directly estimate it.</p>
<p>If we do not have labelled data, the <code>m</code> parameters can be estimated using an iterative maximum likelihood approach called Expectation Maximisation. </p>
<h4 id="estimating-directly">Estimating directly<a class="headerlink" href="#estimating-directly" title="Permanent link"></a></h4>
<p>If we have labels, we can estimate <code>m</code> directly using the <code>estimate_m_from_label_column</code> method of the linker.</p>
<p>For example, if the entity being matched is persons, and your input dataset(s) contain social security number, this could be used to estimate the m values for the model.</p>
<p>Note that this column does not need to be fully populated. A common case is where a unique identifier such as social security number is only partially populated.</p>
<p>For example (in this tutorial we don't have labels, so we're not actually going to use this):</p>
<div class="highlight"><pre><span></span><code><span class="n">linker</span><span class="o">.</span><span class="n">estimate_m_from_label_column</span><span class="p">(</span><span class="s2">"social_security_number"</span><span class="p">)</span>
</code></pre></div>
<h4 id="estimating-with-expectation-maximisation">Estimating with Expectation Maximisation<a class="headerlink" href="#estimating-with-expectation-maximisation" title="Permanent link"></a></h4>
<p>This algorithm estimates the <code>m</code> values by generating pairwise record comparisons, and using them to maximise a likelihood function. </p>
<p>Each estimation pass requires the user to configure an estimation blocking rule to reduce the number of record comparisons generated to a manageable level.</p>
<p>In our first estimation pass, we block on <code>first_name</code> and <code>surname</code>, meaning we will generate all record comparisons that have <code>first_name</code> and <code>surname</code> exactly equal.   </p>
<p>Recall we are trying to estimate the <code>m</code> values of the model, i.e. proportion of records falling into each <code>ComparisonLevel</code> amongst truly matching records.</p>
<p>This means that, in this training session, we cannot estimate parameter estimates for the <code>first_name</code> or <code>surname</code> columns, since they will be equal for all the comparisons we do.</p>
<p>We can, however, estimate parameter estimates for all of the other columns.  The output messages produced by Splink confirm this.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">training_blocking_rule</span> <span class="o">=</span> <span class="n">block_on</span><span class="p">([</span><span class="s2">"first_name"</span><span class="p">,</span> <span class="s2">"surname"</span><span class="p">])</span>
<span class="n">training_session_fname_sname</span> <span class="o">=</span> <span class="n">linker</span><span class="o">.</span><span class="n">estimate_parameters_using_expectation_maximisation</span><span class="p">(</span><span class="n">training_blocking_rule</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stderr output_text">
<pre>
<code>
----- Starting EM training session -----

Estimating the m probabilities of the model by blocking on:
(l."first_name" = r."first_name") AND (l."surname" = r."surname")

Parameter estimates will be made for the following comparison(s):
    - dob
    - city
    - email

Parameter estimates cannot be made for the following comparison(s) since they are used in the blocking rules: 
    - first_name
    - surname

Iteration 1: Largest change in params was -0.541 in the m_probability of dob, level `Exact match`
Iteration 2: Largest change in params was 0.0359 in probability_two_random_records_match
Iteration 3: Largest change in params was 0.00717 in probability_two_random_records_match
Iteration 4: Largest change in params was 0.00156 in probability_two_random_records_match
Iteration 5: Largest change in params was 0.000362 in probability_two_random_records_match
Iteration 6: Largest change in params was 8.64e-05 in probability_two_random_records_match

EM converged after 6 iterations

Your model is not yet fully trained. Missing estimates for:
    - first_name (no m values are trained).
    - surname (no m values are trained).
</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In a second estimation pass, we block on dob. This allows us to estimate parameters for the <code>first_name</code> and <code>surname</code> comparisons.</p>
<p>Between the two estimation passes, we now have parameter estimates for all comparisons.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">fix</span>


<span class="n">training_blocking_rule</span> <span class="o">=</span> <span class="n">block_on</span><span class="p">(</span><span class="s2">"dob"</span><span class="p">)</span>
<span class="n">training_session_dob</span> <span class="o">=</span> <span class="n">linker</span><span class="o">.</span><span class="n">estimate_parameters_using_expectation_maximisation</span><span class="p">(</span><span class="n">training_blocking_rule</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stderr output_text">
<pre>
<code>
----- Starting EM training session -----

Estimating the m probabilities of the model by blocking on:
l."dob" = r."dob"

Parameter estimates will be made for the following comparison(s):
    - first_name
    - surname
    - city
    - email

Parameter estimates cannot be made for the following comparison(s) since they are used in the blocking rules: 
    - dob

Iteration 1: Largest change in params was -0.411 in the m_probability of surname, level `Exact match surname`
Iteration 2: Largest change in params was 0.111 in the m_probability of first_name, level `All other comparisons`
Iteration 3: Largest change in params was 0.0399 in probability_two_random_records_match
Iteration 4: Largest change in params was 0.0143 in probability_two_random_records_match
Iteration 5: Largest change in params was 0.00599 in probability_two_random_records_match
Iteration 6: Largest change in params was 0.00275 in probability_two_random_records_match
Iteration 7: Largest change in params was 0.00132 in probability_two_random_records_match
Iteration 8: Largest change in params was 0.000651 in probability_two_random_records_match
Iteration 9: Largest change in params was 0.000333 in probability_two_random_records_match
Iteration 10: Largest change in params was 0.000188 in probability_two_random_records_match
Iteration 11: Largest change in params was 0.000136 in the m_probability of first_name, level `All other comparisons`
Iteration 12: Largest change in params was 0.000145 in the m_probability of first_name, level `All other comparisons`
Iteration 13: Largest change in params was 0.000179 in the m_probability of first_name, level `All other comparisons`
Iteration 14: Largest change in params was 0.000207 in the m_probability of first_name, level `All other comparisons`
Iteration 15: Largest change in params was 0.000204 in the m_probability of first_name, level `All other comparisons`
Iteration 16: Largest change in params was 0.00017 in the m_probability of first_name, level `All other comparisons`
Iteration 17: Largest change in params was 0.000126 in the m_probability of first_name, level `All other comparisons`
Iteration 18: Largest change in params was 8.73e-05 in probability_two_random_records_match

EM converged after 18 iterations

Your model is fully trained. All comparisons have at least one estimate for their m and u values
</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that Splink includes other algorithms for estimating m and u values, which are documented <a href="https://moj-analytical-services.github.io/splink/linkerest.html">here</a>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="visualising-model-parameters">Visualising model parameters<a class="headerlink" href="#visualising-model-parameters" title="Permanent link"></a></h2>
<p>Splink can generate a number of charts to help you understand your model.  For an introduction to these charts and how to interpret them, please see <a href="https://www.youtube.com/watch?v=msz3T741KQI&amp;t=507s">this</a> video.</p>
<p>The final estimated match weights can be viewed in the match weights chart:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">linker</span><span class="o">.</span><span class="n">match_weights_chart</span><span class="p">()</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<style>
  #altair-viz-656c8ee2672e4417945f5f405e99fb3d.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-656c8ee2672e4417945f5f405e99fb3d.vega-embed details,
  #altair-viz-656c8ee2672e4417945f5f405e99fb3d.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-656c8ee2672e4417945f5f405e99fb3d"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-656c8ee2672e4417945f5f405e99fb3d") {
      outputDiv = document.getElementById("altair-viz-656c8ee2672e4417945f5f405e99fb3d");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.8.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300, "discreteHeight": 60, "discreteWidth": 400}, "header": {"title": null}, "mark": {"tooltip": null}, "title": {"anchor": "middle"}}, "vconcat": [{"mark": {"type": "bar", "clip": true, "height": 15}, "encoding": {"color": {"field": "log2_bayes_factor", "scale": {"domain": [-10, 0, 10], "interpolate": "lab", "range": ["red", "#bbbbbb", "green"]}, "title": "Match weight", "type": "quantitative"}, "tooltip": [{"field": "comparison_name", "title": "Comparison name", "type": "nominal"}, {"field": "probability_two_random_records_match", "format": ".4f", "title": "Probability two random records match", "type": "nominal"}, {"field": "log2_bayes_factor", "format": ",.4f", "title": "Equivalent match weight", "type": "quantitative"}, {"field": "bayes_factor_description", "title": "Match weight description", "type": "nominal"}], "x": {"axis": {"domain": false, "gridColor": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": "#aaa"}, "value": "#ddd"}, "gridDash": {"condition": {"test": "abs(datum.value / 10) == 1", "value": [3]}, "value": null}, "gridWidth": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": 2}, "value": 1}, "labels": false, "ticks": false, "title": ""}, "field": "log2_bayes_factor", "scale": {"domain": [-9, 9]}, "type": "quantitative"}, "y": {"axis": {"title": "Prior (starting) match weight", "titleAlign": "right", "titleAngle": 0, "titleFontWeight": "normal"}, "field": "label_for_charts", "sort": {"field": "comparison_vector_value", "order": "descending"}, "type": "nominal"}}, "height": 20, "transform": [{"filter": "(datum.comparison_name == 'probability_two_random_records_match')"}]}, {"mark": {"type": "bar", "clip": true}, "encoding": {"color": {"field": "log2_bayes_factor", "scale": {"domain": [-10, 0, 10], "interpolate": "lab", "range": ["red", "#bbbbbb", "green"]}, "title": "Match weight", "type": "quantitative"}, "row": {"field": "comparison_name", "header": {"labelAlign": "left", "labelAnchor": "middle", "labelAngle": 0}, "sort": {"field": "comparison_sort_order"}, "type": "nominal"}, "tooltip": [{"field": "comparison_name", "title": "Comparison name", "type": "nominal"}, {"field": "label_for_charts", "title": "Label", "type": "ordinal"}, {"field": "sql_condition", "title": "SQL condition", "type": "nominal"}, {"field": "m_probability", "format": ".4f", "title": "M probability", "type": "quantitative"}, {"field": "u_probability", "format": ".4f", "title": "U probability", "type": "quantitative"}, {"field": "bayes_factor", "format": ",.4f", "title": "Bayes factor = m/u", "type": "quantitative"}, {"field": "log2_bayes_factor", "format": ",.4f", "title": "Match weight = log2(m/u)", "type": "quantitative"}, {"field": "bayes_factor_description", "title": "Match weight description", "type": "nominal"}], "x": {"axis": {"gridColor": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": "#aaa"}, "value": "#ddd"}, "gridDash": {"condition": {"test": "abs(datum.value / 10) == 1", "value": [3]}, "value": null}, "gridWidth": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": 2}, "value": 1}, "title": "Comparison level match weight = log2(m/u)"}, "field": "log2_bayes_factor", "scale": {"domain": [-9, 9]}, "type": "quantitative"}, "y": {"axis": {"title": null}, "field": "label_for_charts", "sort": {"field": "comparison_vector_value", "order": "descending"}, "type": "nominal"}}, "height": {"step": 12}, "resolve": {"axis": {"y": "independent"}, "scale": {"y": "independent"}}, "transform": [{"filter": "(datum.comparison_name != 'probability_two_random_records_match')"}]}], "data": {"name": "data-8799f77cfd69123c4293cde90b034dd8"}, "params": [{"name": "mouse_zoom", "select": {"type": "interval", "encodings": ["x"]}, "bind": "scales", "views": []}], "resolve": {"axis": {"y": "independent"}, "scale": {"y": "independent"}}, "title": {"text": "Model parameters (components of final match weight)", "subtitle": "Use mousewheel to zoom"}, "$schema": "https://vega.github.io/schema/vega-lite/v5.9.3.json", "datasets": {"data-8799f77cfd69123c4293cde90b034dd8": [{"comparison_name": "probability_two_random_records_match", "sql_condition": null, "label_for_charts": "", "m_probability": null, "u_probability": null, "m_probability_description": null, "u_probability_description": null, "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": null, "is_null_level": false, "bayes_factor": 0.0033430420247643373, "log2_bayes_factor": -8.224622793739668, "comparison_vector_value": 0, "max_comparison_vector_value": 0, "bayes_factor_description": "The probability that two random records drawn at random match is 0.003 or one in  300.1 records.This is equivalent to a starting match weight of -8.225.", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": -1}, {"comparison_name": "first_name", "sql_condition": "\"first_name_l\" = \"first_name_r\"", "label_for_charts": "Exact match first_name", "m_probability": 0.4889292524460168, "u_probability": 0.0057935713975033705, "m_probability_description": "Amongst matching record comparisons, 48.89% of records are in the exact match first_name comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.58% of records are in the exact match first_name comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 84.3916850074052, "log2_bayes_factor": 6.399028954133372, "comparison_vector_value": 4, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `exact match first_name` then comparison is 84.39 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "damerau_levenshtein(\"first_name_l\", \"first_name_r\") <= 1", "label_for_charts": "Damerau_levenshtein <= 1", "m_probability": 0.1743535052225469, "u_probability": 0.00236614327345483, "m_probability_description": "Amongst matching record comparisons, 17.44% of records are in the damerau_levenshtein <= 1 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.24% of records are in the damerau_levenshtein <= 1 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 73.68679115021278, "log2_bayes_factor": 6.203334124655873, "comparison_vector_value": 3, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `damerau_levenshtein <= 1` then comparison is 73.69 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "jaro_winkler_similarity(\"first_name_l\", \"first_name_r\") >= 0.9", "label_for_charts": "Jaro_winkler_similarity >= 0.9", "m_probability": 0.026959532968471468, "u_probability": 0.001296159366708712, "m_probability_description": "Amongst matching record comparisons, 2.70% of records are in the jaro_winkler_similarity >= 0.9 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.13% of records are in the jaro_winkler_similarity >= 0.9 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 20.79955108987005, "log2_bayes_factor": 4.378480486359155, "comparison_vector_value": 2, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `jaro_winkler_similarity >= 0.9` then comparison is 20.80 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "jaro_winkler_similarity(\"first_name_l\", \"first_name_r\") >= 0.8", "label_for_charts": "Jaro_winkler_similarity >= 0.8", "m_probability": 0.07538297042254272, "u_probability": 0.005677583982137938, "m_probability_description": "Amongst matching record comparisons, 7.54% of records are in the jaro_winkler_similarity >= 0.8 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.57% of records are in the jaro_winkler_similarity >= 0.8 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 13.277297290485288, "log2_bayes_factor": 3.7308895983159114, "comparison_vector_value": 1, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `jaro_winkler_similarity >= 0.8` then comparison is 13.28 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.23437473894042216, "u_probability": 0.9848665419801952, "m_probability_description": "Amongst matching record comparisons, 23.44% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 98.49% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.23797614087811628, "log2_bayes_factor": -2.071111156489791, "comparison_vector_value": 0, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  4.20 times less likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 0}, {"comparison_name": "surname", "sql_condition": "\"surname_l\" = \"surname_r\"", "label_for_charts": "Exact match surname", "m_probability": 0.4324771822270795, "u_probability": 0.004889975550122249, "m_probability_description": "Amongst matching record comparisons, 43.25% of records are in the exact match surname comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.49% of records are in the exact match surname comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 88.44158376543776, "log2_bayes_factor": 6.466652955297998, "comparison_vector_value": 4, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `exact match surname` then comparison is 88.44 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "damerau_levenshtein(\"surname_l\", \"surname_r\") <= 1", "label_for_charts": "Damerau_levenshtein <= 1", "m_probability": 0.2162780198290537, "u_probability": 0.0027554624131641246, "m_probability_description": "Amongst matching record comparisons, 21.63% of records are in the damerau_levenshtein <= 1 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.28% of records are in the damerau_levenshtein <= 1 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 78.49064418218629, "log2_bayes_factor": 6.294448794797807, "comparison_vector_value": 3, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `damerau_levenshtein <= 1` then comparison is 78.49 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "jaro_winkler_similarity(\"surname_l\", \"surname_r\") >= 0.9", "label_for_charts": "Jaro_winkler_similarity >= 0.9", "m_probability": 0.051185441351294256, "u_probability": 0.0010090425738347498, "m_probability_description": "Amongst matching record comparisons, 5.12% of records are in the jaro_winkler_similarity >= 0.9 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.10% of records are in the jaro_winkler_similarity >= 0.9 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 50.726741049953816, "log2_bayes_factor": 5.664674572090165, "comparison_vector_value": 2, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `jaro_winkler_similarity >= 0.9` then comparison is 50.73 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "jaro_winkler_similarity(\"surname_l\", \"surname_r\") >= 0.8", "label_for_charts": "Jaro_winkler_similarity >= 0.8", "m_probability": 0.0652281057366216, "u_probability": 0.003710768991942586, "m_probability_description": "Amongst matching record comparisons, 6.52% of records are in the jaro_winkler_similarity >= 0.8 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.37% of records are in the jaro_winkler_similarity >= 0.8 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 17.5780561598567, "log2_bayes_factor": 4.135703636154372, "comparison_vector_value": 1, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `jaro_winkler_similarity >= 0.8` then comparison is 17.58 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.23483125085595088, "u_probability": 0.9876347504709363, "m_probability_description": "Amongst matching record comparisons, 23.48% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 98.76% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.23777135296624155, "log2_bayes_factor": -2.072353187302213, "comparison_vector_value": 0, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  4.21 times less likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 1}, {"comparison_name": "dob", "sql_condition": "\"dob_l\" = \"dob_r\"", "label_for_charts": "Exact match", "m_probability": 0.3901924754876586, "u_probability": 0.0017477477477477479, "m_probability_description": "Amongst matching record comparisons, 39.02% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.17% of records are in the exact match comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 223.25445762438198, "log2_bayes_factor": 7.802545171071445, "comparison_vector_value": 5, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `exact match` then comparison is 223.25 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "damerau_levenshtein(\"dob_l\", \"dob_r\") <= 1", "label_for_charts": "Damerau_levenshtein <= 1", "m_probability": 0.1489097697538697, "u_probability": 0.0016436436436436436, "m_probability_description": "Amongst matching record comparisons, 14.89% of records are in the damerau_levenshtein <= 1 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.16% of records are in the damerau_levenshtein <= 1 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 90.59735687217773, "log2_bayes_factor": 6.501397055942256, "comparison_vector_value": 4, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `damerau_levenshtein <= 1` then comparison is 90.60 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "\n            abs(date_diff('month',\n                strptime(\"dob_l\", '%Y-%m-%d'),\n                strptime(\"dob_r\", '%Y-%m-%d'))\n                ) <= 1\n        ", "label_for_charts": "Within 1 month", "m_probability": 0.10638333272855632, "u_probability": 0.003833833833833834, "m_probability_description": "Amongst matching record comparisons, 10.64% of records are in the within 1 month comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.38% of records are in the within 1 month comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 27.7485507560908, "log2_bayes_factor": 4.79434051962581, "comparison_vector_value": 3, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `within 1 month` then comparison is 27.75 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "\n            abs(date_diff('year',\n                strptime(\"dob_l\", '%Y-%m-%d'),\n                strptime(\"dob_r\", '%Y-%m-%d'))\n                ) <= 1\n        ", "label_for_charts": "Within 1 year", "m_probability": 0.16873653953576695, "u_probability": 0.05062662662662663, "m_probability_description": "Amongst matching record comparisons, 16.87% of records are in the within 1 year comparison level", "u_probability_description": "Amongst non-matching record comparisons, 5.06% of records are in the within 1 year comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 3.3329603566164026, "log2_bayes_factor": 1.7368041576362627, "comparison_vector_value": 2, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `within 1 year` then comparison is 3.33 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "\n            abs(date_diff('year',\n                strptime(\"dob_l\", '%Y-%m-%d'),\n                strptime(\"dob_r\", '%Y-%m-%d'))\n                ) <= 10\n        ", "label_for_charts": "Within 10 years", "m_probability": 0.17859885198433115, "u_probability": 0.3037037037037037, "m_probability_description": "Amongst matching record comparisons, 17.86% of records are in the within 10 years comparison level", "u_probability_description": "Amongst non-matching record comparisons, 30.37% of records are in the within 10 years comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.5880693906801148, "log2_bayes_factor": -0.7659416954660021, "comparison_vector_value": 1, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `within 10 years` then comparison is  1.70 times less likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.007179030509817315, "u_probability": 0.6384444444444445, "m_probability_description": "Amongst matching record comparisons, 0.72% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 63.84% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.011244565713253713, "log2_bayes_factor": -6.474628247239181, "comparison_vector_value": 0, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  88.93 times less likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 2}, {"comparison_name": "city", "sql_condition": "\"city_l\" = \"city_r\"", "label_for_charts": "Exact match", "m_probability": 0.5606854617722488, "u_probability": 0.0551475711801453, "m_probability_description": "Amongst matching record comparisons, 56.07% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 5.51% of records are in the exact match comparison level", "has_tf_adjustments": true, "tf_adjustment_column": "city", "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 10.167001914566848, "log2_bayes_factor": 3.345822409219648, "comparison_vector_value": 1, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `exact match` then comparison is 10.17 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 3}, {"comparison_name": "city", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.4393145382277512, "u_probability": 0.9448524288198547, "m_probability_description": "Amongst matching record comparisons, 43.93% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 94.49% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.46495571671066827, "log2_bayes_factor": -1.1048347772133411, "comparison_vector_value": 0, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  2.15 times less likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 3}, {"comparison_name": "email", "sql_condition": "\"email_l\" = \"email_r\"", "label_for_charts": "3. Exact match email", "m_probability": 0.5536475990147516, "u_probability": 0.0021938713143283602, "m_probability_description": "Amongst matching record comparisons, 55.36% of records are in the exact match email comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.22% of records are in the exact match email comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 252.36101835090872, "log2_bayes_factor": 7.979345267388631, "comparison_vector_value": 3, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `exact match email` then comparison is 252.36 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 4}, {"comparison_name": "email", "sql_condition": "\n        regexp_extract(\"email_l\", '^[^@]+')\n     = \n        regexp_extract(\"email_r\", '^[^@]+')\n    ", "label_for_charts": "2. Exact match email", "m_probability": 0.22104752500401587, "u_probability": 0.0010390328952024346, "m_probability_description": "Amongst matching record comparisons, 22.10% of records are in the exact match email comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.10% of records are in the exact match email comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 212.7435291266204, "log2_bayes_factor": 7.73297144089203, "comparison_vector_value": 2, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `exact match email` then comparison is 212.74 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 4}, {"comparison_name": "email", "sql_condition": "jaro_winkler_similarity(\"email_l\", \"email_r\") >= 0.88", "label_for_charts": "1. Jaro_winkler_similarity email >= 0.88", "m_probability": 0.21426410675345736, "u_probability": 0.0009135769109519858, "m_probability_description": "Amongst matching record comparisons, 21.43% of records are in the jaro_winkler_similarity email >= 0.88 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.09% of records are in the jaro_winkler_similarity email >= 0.88 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 234.53318947190238, "log2_bayes_factor": 7.873648286922126, "comparison_vector_value": 1, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `jaro_winkler_similarity email >= 0.88` then comparison is 234.53 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 4}, {"comparison_name": "email", "sql_condition": "ELSE", "label_for_charts": "0. All other comparisons", "m_probability": 0.011040769227775298, "u_probability": 0.9958535188795172, "m_probability_description": "Amongst matching record comparisons, 1.10% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 99.59% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.011086740186646927, "log2_bayes_factor": -6.495020954832884, "comparison_vector_value": 0, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  90.20 times less likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 4}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">linker</span><span class="o">.</span><span class="n">m_u_parameters_chart</span><span class="p">()</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<style>
  #altair-viz-d92e7b434ed445878dea5c1b41665398.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-d92e7b434ed445878dea5c1b41665398.vega-embed details,
  #altair-viz-d92e7b434ed445878dea5c1b41665398.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-d92e7b434ed445878dea5c1b41665398"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-d92e7b434ed445878dea5c1b41665398") {
      outputDiv = document.getElementById("altair-viz-d92e7b434ed445878dea5c1b41665398");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.8.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300, "discreteHeight": 300, "discreteWidth": 400}, "header": {"title": null}, "title": {"anchor": "middle", "offset": 10}}, "hconcat": [{"mark": "bar", "encoding": {"color": {"value": "green"}, "row": {"field": "comparison_name", "header": {"labelAlign": "left", "labelAnchor": "middle", "labelAngle": 0}, "sort": {"field": "comparison_sort_order"}, "type": "nominal"}, "tooltip": [{"field": "m_probability_description", "title": "m probability description", "type": "nominal"}, {"field": "comparison_name", "title": "Comparison column name", "type": "nominal"}, {"field": "label_for_charts", "title": "Label", "type": "ordinal"}, {"field": "sql_condition", "title": "SQL condition", "type": "nominal"}, {"field": "m_probability", "format": ".4p", "title": "m probability", "type": "quantitative"}, {"field": "u_probability", "format": ".4p", "title": "u probability", "type": "quantitative"}, {"field": "bayes_factor", "format": ",.4f", "title": "Bayes factor = m/u", "type": "quantitative"}, {"field": "log2_bayes_factor", "format": ",.4f", "title": "Match weight = log2(m/u)", "type": "quantitative"}], "x": {"axis": {"title": "Proportion of record comparisons"}, "field": "m_probability", "type": "quantitative"}, "y": {"axis": {"title": null}, "field": "label_for_charts", "sort": {"field": "comparison_vector_value", "order": "descending"}, "type": "nominal"}}, "height": {"step": 12}, "resolve": {"scale": {"y": "independent"}}, "title": {"text": "Amongst matching record comparisons:", "fontSize": 12, "fontWeight": "bold"}, "transform": [{"filter": "(datum.bayes_factor != 'no-op filter due to vega lite issue 4680')"}], "width": 150}, {"mark": "bar", "encoding": {"color": {"value": "red"}, "row": {"field": "comparison_name", "header": {"labels": false}, "sort": {"field": "comparison_sort_order"}, "type": "nominal"}, "tooltip": [{"field": "u_probability_description", "title": "u probability description", "type": "nominal"}, {"field": "comparison_name", "title": "Comparison column name", "type": "nominal"}, {"field": "label_for_charts", "title": "Label", "type": "ordinal"}, {"field": "sql_condition", "title": "SQL condition", "type": "nominal"}, {"field": "m_probability", "format": ".4p", "title": "m probability", "type": "quantitative"}, {"field": "u_probability", "format": ".4p", "title": "u probability", "type": "quantitative"}, {"field": "bayes_factor", "format": ",.4f", "title": "Bayes factor = m/u", "type": "quantitative"}, {"field": "log2_bayes_factor", "format": ",.4f", "title": "Match weight = log2(m/u)", "type": "quantitative"}], "x": {"axis": {"title": "Proportion of record comparisons"}, "field": "u_probability", "type": "quantitative"}, "y": {"axis": {"title": null}, "field": "label_for_charts", "sort": {"field": "comparison_vector_value", "order": "descending"}, "type": "nominal"}}, "height": {"step": 12}, "resolve": {"scale": {"y": "independent"}}, "title": {"text": "Amongst non-matching record comparisons:", "fontSize": 12, "fontWeight": "bold"}, "transform": [{"filter": "(datum.bayes_factor != 'no-op filter2 due to vega lite issue 4680')"}], "width": 150}], "data": {"name": "data-30b6c064b08315254c26e4eba29f9858"}, "title": {"text": "Proportion of record comparisons in each comparison level by match status", "subtitle": "(m and u probabilities)"}, "$schema": "https://vega.github.io/schema/vega-lite/v5.9.3.json", "datasets": {"data-30b6c064b08315254c26e4eba29f9858": [{"comparison_name": "first_name", "sql_condition": "\"first_name_l\" = \"first_name_r\"", "label_for_charts": "Exact match first_name", "m_probability": 0.4889292524460168, "u_probability": 0.0057935713975033705, "m_probability_description": "Amongst matching record comparisons, 48.89% of records are in the exact match first_name comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.58% of records are in the exact match first_name comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 84.3916850074052, "log2_bayes_factor": 6.399028954133372, "comparison_vector_value": 4, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `exact match first_name` then comparison is 84.39 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "damerau_levenshtein(\"first_name_l\", \"first_name_r\") <= 1", "label_for_charts": "Damerau_levenshtein <= 1", "m_probability": 0.1743535052225469, "u_probability": 0.00236614327345483, "m_probability_description": "Amongst matching record comparisons, 17.44% of records are in the damerau_levenshtein <= 1 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.24% of records are in the damerau_levenshtein <= 1 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 73.68679115021278, "log2_bayes_factor": 6.203334124655873, "comparison_vector_value": 3, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `damerau_levenshtein <= 1` then comparison is 73.69 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "jaro_winkler_similarity(\"first_name_l\", \"first_name_r\") >= 0.9", "label_for_charts": "Jaro_winkler_similarity >= 0.9", "m_probability": 0.026959532968471468, "u_probability": 0.001296159366708712, "m_probability_description": "Amongst matching record comparisons, 2.70% of records are in the jaro_winkler_similarity >= 0.9 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.13% of records are in the jaro_winkler_similarity >= 0.9 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 20.79955108987005, "log2_bayes_factor": 4.378480486359155, "comparison_vector_value": 2, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `jaro_winkler_similarity >= 0.9` then comparison is 20.80 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "jaro_winkler_similarity(\"first_name_l\", \"first_name_r\") >= 0.8", "label_for_charts": "Jaro_winkler_similarity >= 0.8", "m_probability": 0.07538297042254272, "u_probability": 0.005677583982137938, "m_probability_description": "Amongst matching record comparisons, 7.54% of records are in the jaro_winkler_similarity >= 0.8 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.57% of records are in the jaro_winkler_similarity >= 0.8 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 13.277297290485288, "log2_bayes_factor": 3.7308895983159114, "comparison_vector_value": 1, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `jaro_winkler_similarity >= 0.8` then comparison is 13.28 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 0}, {"comparison_name": "first_name", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.23437473894042216, "u_probability": 0.9848665419801952, "m_probability_description": "Amongst matching record comparisons, 23.44% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 98.49% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.23797614087811628, "log2_bayes_factor": -2.071111156489791, "comparison_vector_value": 0, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  4.20 times less likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 0}, {"comparison_name": "surname", "sql_condition": "\"surname_l\" = \"surname_r\"", "label_for_charts": "Exact match surname", "m_probability": 0.4324771822270795, "u_probability": 0.004889975550122249, "m_probability_description": "Amongst matching record comparisons, 43.25% of records are in the exact match surname comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.49% of records are in the exact match surname comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 88.44158376543776, "log2_bayes_factor": 6.466652955297998, "comparison_vector_value": 4, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `exact match surname` then comparison is 88.44 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "damerau_levenshtein(\"surname_l\", \"surname_r\") <= 1", "label_for_charts": "Damerau_levenshtein <= 1", "m_probability": 0.2162780198290537, "u_probability": 0.0027554624131641246, "m_probability_description": "Amongst matching record comparisons, 21.63% of records are in the damerau_levenshtein <= 1 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.28% of records are in the damerau_levenshtein <= 1 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 78.49064418218629, "log2_bayes_factor": 6.294448794797807, "comparison_vector_value": 3, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `damerau_levenshtein <= 1` then comparison is 78.49 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "jaro_winkler_similarity(\"surname_l\", \"surname_r\") >= 0.9", "label_for_charts": "Jaro_winkler_similarity >= 0.9", "m_probability": 0.051185441351294256, "u_probability": 0.0010090425738347498, "m_probability_description": "Amongst matching record comparisons, 5.12% of records are in the jaro_winkler_similarity >= 0.9 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.10% of records are in the jaro_winkler_similarity >= 0.9 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 50.726741049953816, "log2_bayes_factor": 5.664674572090165, "comparison_vector_value": 2, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `jaro_winkler_similarity >= 0.9` then comparison is 50.73 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "jaro_winkler_similarity(\"surname_l\", \"surname_r\") >= 0.8", "label_for_charts": "Jaro_winkler_similarity >= 0.8", "m_probability": 0.0652281057366216, "u_probability": 0.003710768991942586, "m_probability_description": "Amongst matching record comparisons, 6.52% of records are in the jaro_winkler_similarity >= 0.8 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.37% of records are in the jaro_winkler_similarity >= 0.8 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 17.5780561598567, "log2_bayes_factor": 4.135703636154372, "comparison_vector_value": 1, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `jaro_winkler_similarity >= 0.8` then comparison is 17.58 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 1}, {"comparison_name": "surname", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.23483125085595088, "u_probability": 0.9876347504709363, "m_probability_description": "Amongst matching record comparisons, 23.48% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 98.76% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.23777135296624155, "log2_bayes_factor": -2.072353187302213, "comparison_vector_value": 0, "max_comparison_vector_value": 4, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  4.21 times less likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 1}, {"comparison_name": "dob", "sql_condition": "\"dob_l\" = \"dob_r\"", "label_for_charts": "Exact match", "m_probability": 0.3901924754876586, "u_probability": 0.0017477477477477479, "m_probability_description": "Amongst matching record comparisons, 39.02% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.17% of records are in the exact match comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 223.25445762438198, "log2_bayes_factor": 7.802545171071445, "comparison_vector_value": 5, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `exact match` then comparison is 223.25 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "damerau_levenshtein(\"dob_l\", \"dob_r\") <= 1", "label_for_charts": "Damerau_levenshtein <= 1", "m_probability": 0.1489097697538697, "u_probability": 0.0016436436436436436, "m_probability_description": "Amongst matching record comparisons, 14.89% of records are in the damerau_levenshtein <= 1 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.16% of records are in the damerau_levenshtein <= 1 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 90.59735687217773, "log2_bayes_factor": 6.501397055942256, "comparison_vector_value": 4, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `damerau_levenshtein <= 1` then comparison is 90.60 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "\n            abs(date_diff('month',\n                strptime(\"dob_l\", '%Y-%m-%d'),\n                strptime(\"dob_r\", '%Y-%m-%d'))\n                ) <= 1\n        ", "label_for_charts": "Within 1 month", "m_probability": 0.10638333272855632, "u_probability": 0.003833833833833834, "m_probability_description": "Amongst matching record comparisons, 10.64% of records are in the within 1 month comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.38% of records are in the within 1 month comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 27.7485507560908, "log2_bayes_factor": 4.79434051962581, "comparison_vector_value": 3, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `within 1 month` then comparison is 27.75 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "\n            abs(date_diff('year',\n                strptime(\"dob_l\", '%Y-%m-%d'),\n                strptime(\"dob_r\", '%Y-%m-%d'))\n                ) <= 1\n        ", "label_for_charts": "Within 1 year", "m_probability": 0.16873653953576695, "u_probability": 0.05062662662662663, "m_probability_description": "Amongst matching record comparisons, 16.87% of records are in the within 1 year comparison level", "u_probability_description": "Amongst non-matching record comparisons, 5.06% of records are in the within 1 year comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 3.3329603566164026, "log2_bayes_factor": 1.7368041576362627, "comparison_vector_value": 2, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `within 1 year` then comparison is 3.33 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "\n            abs(date_diff('year',\n                strptime(\"dob_l\", '%Y-%m-%d'),\n                strptime(\"dob_r\", '%Y-%m-%d'))\n                ) <= 10\n        ", "label_for_charts": "Within 10 years", "m_probability": 0.17859885198433115, "u_probability": 0.3037037037037037, "m_probability_description": "Amongst matching record comparisons, 17.86% of records are in the within 10 years comparison level", "u_probability_description": "Amongst non-matching record comparisons, 30.37% of records are in the within 10 years comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.5880693906801148, "log2_bayes_factor": -0.7659416954660021, "comparison_vector_value": 1, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `within 10 years` then comparison is  1.70 times less likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 2}, {"comparison_name": "dob", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.007179030509817315, "u_probability": 0.6384444444444445, "m_probability_description": "Amongst matching record comparisons, 0.72% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 63.84% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.011244565713253713, "log2_bayes_factor": -6.474628247239181, "comparison_vector_value": 0, "max_comparison_vector_value": 5, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  88.93 times less likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 2}, {"comparison_name": "city", "sql_condition": "\"city_l\" = \"city_r\"", "label_for_charts": "Exact match", "m_probability": 0.5606854617722488, "u_probability": 0.0551475711801453, "m_probability_description": "Amongst matching record comparisons, 56.07% of records are in the exact match comparison level", "u_probability_description": "Amongst non-matching record comparisons, 5.51% of records are in the exact match comparison level", "has_tf_adjustments": true, "tf_adjustment_column": "city", "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 10.167001914566848, "log2_bayes_factor": 3.345822409219648, "comparison_vector_value": 1, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `exact match` then comparison is 10.17 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 3}, {"comparison_name": "city", "sql_condition": "ELSE", "label_for_charts": "All other comparisons", "m_probability": 0.4393145382277512, "u_probability": 0.9448524288198547, "m_probability_description": "Amongst matching record comparisons, 43.93% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 94.49% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.46495571671066827, "log2_bayes_factor": -1.1048347772133411, "comparison_vector_value": 0, "max_comparison_vector_value": 1, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  2.15 times less likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 3}, {"comparison_name": "email", "sql_condition": "\"email_l\" = \"email_r\"", "label_for_charts": "3. Exact match email", "m_probability": 0.5536475990147516, "u_probability": 0.0021938713143283602, "m_probability_description": "Amongst matching record comparisons, 55.36% of records are in the exact match email comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.22% of records are in the exact match email comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 252.36101835090872, "log2_bayes_factor": 7.979345267388631, "comparison_vector_value": 3, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `exact match email` then comparison is 252.36 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 4}, {"comparison_name": "email", "sql_condition": "\n        regexp_extract(\"email_l\", '^[^@]+')\n     = \n        regexp_extract(\"email_r\", '^[^@]+')\n    ", "label_for_charts": "2. Exact match email", "m_probability": 0.22104752500401587, "u_probability": 0.0010390328952024346, "m_probability_description": "Amongst matching record comparisons, 22.10% of records are in the exact match email comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.10% of records are in the exact match email comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 212.7435291266204, "log2_bayes_factor": 7.73297144089203, "comparison_vector_value": 2, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `exact match email` then comparison is 212.74 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 4}, {"comparison_name": "email", "sql_condition": "jaro_winkler_similarity(\"email_l\", \"email_r\") >= 0.88", "label_for_charts": "1. Jaro_winkler_similarity email >= 0.88", "m_probability": 0.21426410675345736, "u_probability": 0.0009135769109519858, "m_probability_description": "Amongst matching record comparisons, 21.43% of records are in the jaro_winkler_similarity email >= 0.88 comparison level", "u_probability_description": "Amongst non-matching record comparisons, 0.09% of records are in the jaro_winkler_similarity email >= 0.88 comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 234.53318947190238, "log2_bayes_factor": 7.873648286922126, "comparison_vector_value": 1, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `jaro_winkler_similarity email >= 0.88` then comparison is 234.53 times more likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 4}, {"comparison_name": "email", "sql_condition": "ELSE", "label_for_charts": "0. All other comparisons", "m_probability": 0.011040769227775298, "u_probability": 0.9958535188795172, "m_probability_description": "Amongst matching record comparisons, 1.10% of records are in the all other comparisons comparison level", "u_probability_description": "Amongst non-matching record comparisons, 99.59% of records are in the all other comparisons comparison level", "has_tf_adjustments": false, "tf_adjustment_column": null, "tf_adjustment_weight": 1.0, "is_null_level": false, "bayes_factor": 0.011086740186646927, "log2_bayes_factor": -6.495020954832884, "comparison_vector_value": 0, "max_comparison_vector_value": 3, "bayes_factor_description": "If comparison level is `all other comparisons` then comparison is  90.20 times less likely to be a match", "probability_two_random_records_match": 0.0033319033319033323, "comparison_sort_order": 4}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="saving-the-model">Saving the model<a class="headerlink" href="#saving-the-model" title="Permanent link"></a></h3>
<p>We can save the model, including our estimated parameters, to a <code>.json</code> file, so we can use it in the next tutorial.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">settings</span> <span class="o">=</span> <span class="n">linker</span><span class="o">.</span><span class="n">save_model_to_json</span><span class="p">(</span><span class="s2">"../demo_settings/saved_model_from_demo.json"</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="detecting-unlinkable-records">Detecting unlinkable records<a class="headerlink" href="#detecting-unlinkable-records" title="Permanent link"></a></h2>
<p>An interesting application of our trained model that is useful to explore before making any predictions is to detect 'unlinkable' records.</p>
<p>Unlinkable records are those which do not contain enough information to be linked.  A simple example would be a record containing only 'John Smith', and null in all other fields.  This record may link to other records, but we'll never know because there's not enough information to disambiguate any potential links.   Unlinkable records can be found by linking records to themselves - if, even when matched to themselves, they don't meet the match threshold score, we can be sure they will never link to anything.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">linker</span><span class="o">.</span><span class="n">unlinkables_chart</span><span class="p">()</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<style>
  #altair-viz-618440f9b28446c0a960b3bd4c051920.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-618440f9b28446c0a960b3bd4c051920.vega-embed details,
  #altair-viz-618440f9b28446c0a960b3bd4c051920.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-618440f9b28446c0a960b3bd4c051920"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-618440f9b28446c0a960b3bd4c051920") {
      outputDiv = document.getElementById("altair-viz-618440f9b28446c0a960b3bd4c051920");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.8.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": {"type": "line"}, "encoding": {"x": {"axis": {"format": "+", "title": "Threshold match weight"}, "field": "match_weight", "type": "quantitative"}, "y": {"axis": {"format": "%", "title": "Percentage of unlinkable records"}, "field": "cum_prop", "type": "quantitative"}}}, {"mark": {"type": "point"}, "encoding": {"opacity": {"condition": {"param": "x_match_weight_y_cum_prop_coords_of_mouse", "value": 1, "empty": false}, "value": 0}, "tooltip": [{"field": "match_weight", "format": "+.5", "title": "Match weight", "type": "quantitative"}, {"field": "match_probability", "format": ".5", "title": "Match probability", "type": "quantitative"}, {"field": "cum_prop", "format": ".3%", "title": "Proportion of unlinkable records", "type": "quantitative"}], "x": {"axis": {"title": "Threshold match weight"}, "field": "match_weight", "type": "quantitative"}, "y": {"axis": {"format": "%", "title": "Percentage of unlinkable records"}, "field": "cum_prop", "type": "quantitative"}}, "name": "mouse_coords"}, {"mark": {"type": "rule", "color": "gray"}, "encoding": {"x": {"field": "match_weight", "type": "quantitative"}}, "transform": [{"filter": {"param": "x_match_weight_y_cum_prop_coords_of_mouse", "empty": false}}]}, {"mark": {"type": "rule", "color": "gray"}, "encoding": {"y": {"field": "cum_prop", "type": "quantitative"}}, "transform": [{"filter": {"param": "x_match_weight_y_cum_prop_coords_of_mouse", "empty": false}}]}], "data": {"name": "data-06888ba71d2705a20a5da73e08e982fb"}, "height": 400, "params": [{"name": "x_match_weight_y_cum_prop_coords_of_mouse", "select": {"type": "point", "fields": ["match_weight", "cum_prop"], "nearest": true, "on": "mouseover"}, "views": ["mouse_coords"]}], "title": {"text": "Unlinkable records", "subtitle": "Records with insufficient information to exceed a given match threshold"}, "width": 400, "$schema": "https://vega.github.io/schema/vega-lite/v5.9.3.json", "datasets": {"data-06888ba71d2705a20a5da73e08e982fb": [{"match_weight": -0.42, "match_probability": 0.42738, "prop": 0.0020000000949949026, "cum_prop": 0.0020000000949949026}, {"match_weight": 4.6, "match_probability": 0.96048, "prop": 0.0010000000474974513, "cum_prop": 0.003000000142492354}, {"match_weight": 5.98, "match_probability": 0.98437, "prop": 0.003000000026077032, "cum_prop": 0.006000000168569386}, {"match_weight": 6.04, "match_probability": 0.98508, "prop": 0.007000000216066837, "cum_prop": 0.013000000384636223}, {"match_weight": 6.09, "match_probability": 0.98552, "prop": 0.0010000000474974513, "cum_prop": 0.014000000432133675}, {"match_weight": 7.37, "match_probability": 0.99401, "prop": 0.004999999888241291, "cum_prop": 0.019000000320374966}, {"match_weight": 7.44, "match_probability": 0.99428, "prop": 0.0020000000949949026, "cum_prop": 0.02100000041536987}, {"match_weight": 7.56, "match_probability": 0.99472, "prop": 0.006000000052154064, "cum_prop": 0.027000000467523932}, {"match_weight": 8.41, "match_probability": 0.99707, "prop": 0.003000000026077032, "cum_prop": 0.030000000493600965}, {"match_weight": 8.96, "match_probability": 0.99799, "prop": 0.00800000037997961, "cum_prop": 0.038000000873580575}, {"match_weight": 9.56, "match_probability": 0.99867, "prop": 0.003000000026077032, "cum_prop": 0.04100000089965761}, {"match_weight": 9.76, "match_probability": 0.99885, "prop": 0.0010000000474974513, "cum_prop": 0.04200000094715506}, {"match_weight": 10.48, "match_probability": 0.9993, "prop": 0.0010000000474974513, "cum_prop": 0.04300000099465251}, {"match_weight": 10.64, "match_probability": 0.99937, "prop": 0.0010000000474974513, "cum_prop": 0.04400000104214996}, {"match_weight": 10.72, "match_probability": 0.99941, "prop": 0.0010000000474974513, "cum_prop": 0.04500000108964741}, {"match_weight": 10.81, "match_probability": 0.99944, "prop": 0.004000000189989805, "cum_prop": 0.04900000127963722}, {"match_weight": 10.88, "match_probability": 0.99947, "prop": 0.0010000000474974513, "cum_prop": 0.05000000132713467}, {"match_weight": 11.0, "match_probability": 0.99951, "prop": 0.0010000000474974513, "cum_prop": 0.05100000137463212}, {"match_weight": 11.07, "match_probability": 0.99953, "prop": 0.0010000000474974513, "cum_prop": 0.05200000142212957}, {"match_weight": 11.18, "match_probability": 0.99957, "prop": 0.0010000000474974513, "cum_prop": 0.05300000146962702}, {"match_weight": 11.22, "match_probability": 0.99958, "prop": 0.0010000000474974513, "cum_prop": 0.054000001517124474}, {"match_weight": 11.64, "match_probability": 0.99969, "prop": 0.0010000000474974513, "cum_prop": 0.055000001564621925}, {"match_weight": 11.71, "match_probability": 0.9997, "prop": 0.003000000026077032, "cum_prop": 0.05800000159069896}, {"match_weight": 11.88, "match_probability": 0.99973, "prop": 0.0010000000474974513, "cum_prop": 0.05900000163819641}, {"match_weight": 12.0, "match_probability": 0.99976, "prop": 0.004000000189989805, "cum_prop": 0.06300000182818621}, {"match_weight": 12.07, "match_probability": 0.99977, "prop": 0.0010000000474974513, "cum_prop": 0.06400000187568367}, {"match_weight": 12.22, "match_probability": 0.99979, "prop": 0.0010000000474974513, "cum_prop": 0.06500000192318112}, {"match_weight": 12.3, "match_probability": 0.9998, "prop": 0.003000000026077032, "cum_prop": 0.06800000194925815}, {"match_weight": 12.39, "match_probability": 0.99981, "prop": 0.0010000000474974513, "cum_prop": 0.0690000019967556}, {"match_weight": 12.44, "match_probability": 0.99982, "prop": 0.023000000044703484, "cum_prop": 0.09200000204145908}, {"match_weight": 12.56, "match_probability": 0.99983, "prop": 0.0010000000474974513, "cum_prop": 0.09300000208895653}, {"match_weight": 12.58, "match_probability": 0.99984, "prop": 0.0020000000949949026, "cum_prop": 0.09500000218395144}, {"match_weight": 12.69, "match_probability": 0.99985, "prop": 0.0010000000474974513, "cum_prop": 0.09600000223144889}, {"match_weight": 12.88, "match_probability": 0.99987, "prop": 0.0010000000474974513, "cum_prop": 0.09700000227894634}, {"match_weight": 13.39, "match_probability": 0.99991, "prop": 0.0010000000474974513, "cum_prop": 0.09800000232644379}, {"match_weight": 13.88, "match_probability": 0.99993, "prop": 0.023000000044703484, "cum_prop": 0.12100000237114727}, {"match_weight": 14.02, "match_probability": 0.99994, "prop": 0.03400000184774399, "cum_prop": 0.15500000421889126}, {"match_weight": 14.39, "match_probability": 0.99995, "prop": 0.0010000000474974513, "cum_prop": 0.15600000426638871}, {"match_weight": 14.88, "match_probability": 0.99997, "prop": 0.012000000104308128, "cum_prop": 0.16800000437069684}, {"match_weight": 15.95, "match_probability": 0.99998, "prop": 0.04800000041723251, "cum_prop": 0.21600000478792936}, {"match_weight": 17.58, "match_probability": 0.99999, "prop": 0.035999998450279236, "cum_prop": 0.2520000032382086}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the above chart, we can see that about 1.3% of records in the input dataset are unlinkable at a threshold match weight of 6.11 (correponding to a match probability of around 98.6%)</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="admonition note">
<p class="admonition-title">Further Reading</p>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="m21.71 20.29-1.42 1.42a1 1 0 0 1-1.41 0L7 9.85A3.81 3.81 0 0 1 6 10a4 4 0 0 1-3.78-5.3l2.54 2.54.53-.53 1.42-1.42.53-.53L4.7 2.22A4 4 0 0 1 10 6a3.81 3.81 0 0 1-.15 1l11.86 11.88a1 1 0 0 1 0 1.41M2.29 18.88a1 1 0 0 0 0 1.41l1.42 1.42a1 1 0 0 0 1.41 0l5.47-5.46-2.83-2.83M20 2l-4 2v2l-2.17 2.17 2 2L18 8h2l2-4Z"></path></svg></span> For more on the model estimation tools in Splink, please refer to the <a href="../../linkerest.html">Model Training API documentation</a>.</p>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M22.011 3.269H16.19a4.29 4.29 0 0 0-4.185 3.345A4.29 4.29 0 0 0 7.819 3.27H2a2 2 0 0 0-2.001 2v10.244a2 2 0 0 0 2 2h3.738c4.257 0 5.53 1.025 6.138 3.134a.112.112 0 0 0 .112.084h.024a.112.112 0 0 0 .112-.084c.612-2.109 1.885-3.133 6.138-3.133h3.737a2 2 0 0 0 2.001-2V5.27a2 2 0 0 0-1.989-2ZM10.083 14.325a.144.144 0 0 1-.144.144H3.257a.144.144 0 0 1-.144-.144v-.953a.144.144 0 0 1 .144-.144H9.94a.144.144 0 0 1 .144.144zm0-2.537a.144.144 0 0 1-.144.144H3.257a.144.144 0 0 1-.144-.144v-.952a.144.144 0 0 1 .144-.144H9.94a.144.144 0 0 1 .144.144zm0-2.537a.144.144 0 0 1-.144.144H3.257a.144.144 0 0 1-.144-.144V8.3a.144.144 0 0 1 .144-.144H9.94a.144.144 0 0 1 .144.144zm10.804 5.07a.144.144 0 0 1-.144.144h-6.682a.144.144 0 0 1-.144-.144v-.953a.144.144 0 0 1 .144-.144h6.682a.144.144 0 0 1 .144.144zm0-2.537a.144.144 0 0 1-.144.144h-6.682a.144.144 0 0 1-.144-.144v-.952a.144.144 0 0 1 .144-.144h6.682a.144.144 0 0 1 .144.144zm0-2.537a.144.144 0 0 1-.144.144h-6.682a.144.144 0 0 1-.144-.144V8.3a.144.144 0 0 1 .144-.144h6.682a.144.144 0 0 1 .144.144v.952z"></path></svg></span> For a deeper dive on:</p>
<ul>
<li>choosing comparisons, please refer to the <a href="../../topic_guides/comparisons/customising_comparisons.html">Comparisons Topic Guides</a></li>
<li>the underlying model theory, please refer to the <a href="../../topic_guides/theory/fellegi_sunter.html">Fellegi Sunter Topic Guide</a></li>
<li>model training, please refer to the Model Training Topic Guides (Coming Soon).</li>
</ul>
<p><img alt="" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f4ca.svg" title=":bar_chart:"> For more on the charts used in this tutorial, please refer to the <a href="../../charts/index.html#model-training">Charts Gallery</a>.</p>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="next-steps">Next steps<a class="headerlink" href="#next-steps" title="Permanent link"></a></h2>
<p>Now we have trained a model, we can move on to using it predict matching records.</p>
</div>
</div>
</div></body></html>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-03-11T20:11:57+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-03-11</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-03-11T20:11:57+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-03-11</span>
  </span>

    
    
    
      
  <span class="md-source-file__fact">
    
      
  <span class="md-icon" title="Contributors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
  </span>
  <span>GitHub</span>

    
    <nav>
      
        <a href="https://github.com/RossKen" class="md-author" title="@RossKen">
          
          <img src="https://avatars.githubusercontent.com/u/26222179?v=4&size=72" alt="RossKen">
        </a>
      
        <a href="https://github.com/ThomasHepworth" class="md-author" title="@ThomasHepworth">
          
          <img src="https://avatars.githubusercontent.com/u/45356472?v=4&size=72" alt="ThomasHepworth">
        </a>
      
      
      
    </nav>
  </span>

    
  </aside>


  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="03_Blocking.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: 3. Blocking">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                3. Blocking
              </div>
            </div>
          </a>
        
        
          
          <a href="05_Predicting_results.html" class="md-footer__link md-footer__link--next" aria-label="Next: 5. Predicting results">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                5. Predicting results
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/moj-analytical-services/splink" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/splink/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.robinlinacre.com/" target="_blank" rel="noopener" title="www.robinlinacre.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://moj-analytical-services.github.io/splink/feed_rss_created.xml" target="_blank" rel="noopener" title="moj-analytical-services.github.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64zm0 352a64 64 0 1 1 128 0 64 64 0 1 1-128 0zm32-256c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "header.autohide", "search.highlight", "search.share", "search.suggest", "navigation.indexes", "navigation.footer", "content.action.edit", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "toc.follow"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../js/mkdocs-charts-plugin.js"></script>
      
        <script src="../../js/timeago.min.js"></script>
      
        <script src="../../js/timeago_mkdocs_material.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
      
    
  </body>
</html>